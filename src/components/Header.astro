---
// src/components/Header.astro
const navItems = [
  { label: "Home", href: "/" },
  { label: "Blog", href: "/blog" },
  { label: "Tentang", href: "/tentang" },
];
---

<header class="fixed top-0 inset-x-0 z-50 bg-black/60 backdrop-blur border-b border-white/10">
  <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between h-16">

    <!-- Logo -->
    <div class="flex-1">
      <a href="/" class="inline-block text-lg md:text-xl font-semibold text-white transform transition-transform duration-300 hover:scale-105">
        Bima Akbar
      </a>
    </div>

    <!-- NAVIGASI (DESKTOP) -->
    <nav class="hidden md:flex flex-grow justify-center space-x-6 uppercase text-sm font-medium">
      <div class="relative group">
        <a href="#" class="text-white/80 hover:text-white transition">Blog</a>
        <!-- Dropdown -->
        <div class="absolute top-full left-0 mt-2 w-40 bg-black/90 backdrop-blur rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-all pointer-events-none group-hover:pointer-events-auto">
          <a href="/blog" class="block px-4 py-2 text-white/80 hover:text-white hover:bg-white/10">Semua Post</a>
          <a href="/blog/featured" class="block px-4 py-2 text-white/80 hover:text-white hover:bg-white/10">Unggulan</a>
        </div>
      </div>
      <a href="/contact" class="text-white/80 hover:text-white transition">Contact</a>
      <a href="/about" class="text-white/80 hover:text-white transition">About</a>
      
    </nav>

    <!-- KANAN: Hamburger -->
    <div class="flex-1 flex justify-end items-center gap-4">
      <button
        id="menu-button"
        class="md:hidden text-white text-2xl transition"
        aria-label="Toggle Menu"
      >
        <i id="menu-icon" class="ri-menu-line"></i>
      </button>
    </div>
  </div>

  <!-- MOBILE MENU -->
  <div id="mobile-menu" class="md:hidden max-h-0 overflow-hidden transition-all duration-300 ease-in-out bg-black/80 border-t border-white/10">
    <nav class="flex flex-col px-6 py-4 space-y-4 uppercase text-sm font-medium">
      {navItems.map(item => (
        <a href={item.href} class="text-white hover:text-cyan-400 transition">{item.label}</a>
      ))}
      <a href="/search" class="flex items-center gap-2 text-white hover:text-cyan-400 border-t border-white/10 pt-3">
        <i class="ri-search-line"></i> Pencarian
      </a>
    </nav>
  </div>
</header>

<style>
  .menu-open .menu-open\:max-h-64 {
    max-height: 16rem;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleBtn = document.getElementById("menu-button");
    const menu = document.getElementById("mobile-menu");
    const icon = document.getElementById("menu-icon");

    if (!toggleBtn || !menu || !icon) return;

    toggleBtn.addEventListener("click", () => {
      menu.classList.toggle("max-h-0");
      menu.classList.toggle("max-h-64");

      const isOpen = icon.classList.contains("ri-close-line");
      icon.className = isOpen ? "ri-menu-line" : "ri-close-line";
    });
  });
</script>

